{% extends 'dashboard/base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Nuevo Paciente - RUT: {{ rut }}</h2>
    <p>Complete los datos para crear el registro e ingresar al paciente.</p>
    {% if form.errors %}
    <div class="alert alert-danger">{{ form.errors }}</div>
    {% endif %}
    <form method="post">
        {% csrf_token %}
        <h4>Datos del Paciente</h4>
        <div class="mb-3">
            {{ form.nombre.label_tag }}
            {{ form.nombre }}
            {% if form.nombre.errors %}
            <div class="text-danger">{{ form.nombre.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form.apellido1.label_tag }}
            {{ form.apellido1 }}
            {% if form.apellido1.errors %}
            <div class="text-danger">{{ form.apellido1.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form.apellido2.label_tag }}
            {{ form.apellido2 }}
        </div>
        <div class="mb-3">
            {{ form.fecha_nacimiento.label_tag }}
            {{ form.fecha_nacimiento }}
            <small>YYYY-MM-DD</small>
            {% if form.fecha_nacimiento.errors %}
            <div class="text-danger">{{ form.fecha_nacimiento.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form.telefono.label_tag }}
            {{ form.telefono }}
            {% if form.telefono.errors %}
            <div class="text-danger">{{ form.telefono.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form.direccion.label_tag }}
            {{ form.direccion }}
            {% if form.direccion.errors %}
            <div class="text-danger">{{ form.direccion.errors }}</div>
            {% endif %}
        </div>
        <h4>Datos del Ingreso</h4>
        <div class="mb-3">
            {{ form.area.label_tag }}
            {{ form.area }}
            {% if form.area.errors %}
            <div class="text-danger">{{ form.area.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form.medico_responsable.label_tag }}
            {{ form.medico_responsable }}
            {% if form.medico_responsable.errors %}
            <div class="text-danger">{{ form.medico_responsable.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form.motivo_consulta.label_tag }}
            {{ form.motivo_consulta }}
            {% if form.motivo_consulta.errors %}
            <div class="text-danger">{{ form.motivo_consulta.errors }}</div>
            {% endif %}
        </div>
        <button type="submit" class="btn btn-success">Crear Paciente e Ingresar</button>
        <a href="{% url 'admission_dashboard' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}